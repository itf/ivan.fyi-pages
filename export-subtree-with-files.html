<!doctype html><html lang=en-US><head><script integrity=sha384-pb++s6uBRKaQv+iAXpgA/H3IlpLZdO14tTwuCI7uXmz4aaZdByoCcM+6BhynMq/1 src=/js/theme.min.js></script><link href="/abridge.css?h=2d5f27cf75270b66b7d2" rel=stylesheet><meta charset=utf-8><meta content="ie=edge" http-equiv=x-ua-compatible><meta content="width=device-width,initial-scale=1" name=viewport><meta content=/ name=base><meta content=True name=HandheldFriendly><meta content=yes name=mobile-web-app-capable><meta content=yes name=apple-mobile-web-app-capable><meta content=default name=apple-mobile-web-app-status-bar-style><meta content=#333333 name=theme-color><meta content=#333333 name=msapplication-TileColor><link href=/manifest.json rel=manifest><link color=#ff9900 href=/safari-pinned-tab.svg rel=mask-icon><link href=/favicon.svg rel=icon type=image/svg+xml><link href=/apple-touch-icon.png rel=apple-touch-icon sizes=180x180><link href=/favicon-32x32.png rel=icon sizes=32x32 type=image/png><link href=/favicon-16x16.png rel=icon sizes=16x16 type=image/png><link title="Ivan.fyi Atom Feed" href=/atom.xml rel=alternate type=application/atom+xml><meta content="index, follow" name=robots><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=googlebot><meta content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1" name=bingbot><title>Export subtree with files | Ivan.fyi</title><meta content="Ivan Tadeu Ferreira Antunes Filho" name=author><meta content=Ivan.fyi name=copyright><meta content="Ivan Tadeu Ferreira Antunes Filho, software engineer in Cambridge, Massachussets, Boston Area" name=description><link href=/export-subtree-with-files.html rel=canonical><meta content="Ivan Tadeu Ferreira Antunes Filho, Ivan Antunes Filho, Software Engineer, Backend, Rust, Scala, Elisp" name=keywords><meta content=/export-subtree-with-files.html property=og:url><meta content=/export-subtree-with-files.html name=twitter:url><meta content="Ivan Tadeu Ferreira Antunes Filho, software engineer in Cambridge, Massachussets, Boston Area" property=og:description><meta content="Ivan Tadeu Ferreira Antunes Filho, software engineer in Cambridge, Massachussets, Boston Area" name=twitter:description><meta content="Export subtree with files | Ivan.fyi" property=og:title><meta content="Export subtree with files | Ivan.fyi" name=twitter:title><meta content=summary name=twitter:card><meta content=Ivan.fyi property=og:site_name><meta content=en_US property=og:locale><meta content=website property=og:type><meta content=2020-07-26 property=og:updated_time><script src="/js/abridge_nopwa.min.js?h=da86cb0a199b3ccbdff1" defer integrity=sha384-vIpObQoso10COS540XqkYFIjE+P0OwczzYDnC2D28QZ8O6slixwCc+F1xxYZKvFr></script><noscript><link href=/nojs.css rel=stylesheet></noscript><body><header><nav><div><big><a href=/ title=Ivan.fyi>Ivan.fyi</a></big></div><div><div><ul><li><a href=/about.html> About </a><li><a href=/archive/> Archive </a><li><a href=/blog/> Blog </a><li><a href=/portfolio.html> Portfolio </a><li><a href=/resume.html> Resume </a><li><i class="js svgs adjust" id=mode type=reset></i></ul></div><div><div><form autocomplete=off class=js id=searchbox name=goSearch><div class=searchd><input id=searchinput placeholder=Search title=Search><button class=si title=Search>âŒ•</button></div><div class=results><div id=suggestions></div></div></form></div></div></div></nav><hr></header><main><article><h1><a href=/export-subtree-with-files.html>Export subtree with files</a></h1><span class=s95> September 13, 2018<span class=hpad> </span>Updated: July 26, 2020<span class=hpad> </span> #<a href=/tags/blog/>blog</a> </span><h1 id=Update:>Update:</h1><p>Now this is on on github, in the repo <a href=https://github.com/itf/org-export-with-files>org-export-with-files</a>. It is fairly usable and fairly useful. The next step is to figure out how to best deal with custom links.<h1 id=Summary>Summary</h1><p>I have a main org files that contains notes for multiple classes and papers in different headlines. It is very easy to use this org file to find information since every note contains links to the relevant papers.<p>However, sharing this file with someone can be challenging, since I just want to share the relevant notes/papers and not everything that is linked by this file.<p>The code below solves this problem. It creates a hard link of every file linked by the specific headline into the export directory and fixes all the links in the exported pdf so that it points to the relative location of those files.<p>This allows me to quickly generate a folder that contains all the files I wanna share as well as a pdf that allows the other person to easily navigate through the files and see the relevant information.<h1 id=Warning:>Warning:</h1><p>The file links when exporting to latex need to be of the form [[<file>] [name of the link]]. I other words, they need a description. Links without descriptions are interpreted as images, even if they have extensions such as pdf. <h1 id=Code>Code</h1> <pre class="language-el z-code" data-lang=el><code class=language-el data-lang=el><span class="z-source z-lisp">    <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">require</span> 'ox<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span><span class="z-source z-lisp">    
</span><span class="z-source z-lisp">    
</span><span class="z-source z-lisp">    <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-meta z-function z-lisp"><span class="z-storage z-type z-function-type z-lisp">defun</span> <span class="z-entity z-name z-function z-lisp">export-with-files-export</span></span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>&optional <span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp">      <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>interactive<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp">      <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-control z-lisp">let</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-operator z-logical z-lisp">or</span> <span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">read</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>Directory:<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">        <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>make<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">directory</span> <span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name <span class="z-constant z-language z-lisp">t</span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">        <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>widen<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">        <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>narrow<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-control z-lisp">to</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>subtree<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">        
</span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">        <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>;Create copy of the 
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">        <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">export</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-control z-lisp">with</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>buffer<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>copy
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">         <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-control z-lisp">let</span><span class="z-keyword z-operator z-arithmetic z-lisp">*</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>ast <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>parse<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>buffer<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">map</span> ast 'link
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">             <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">lambda</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>link<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">export</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-control z-lisp">with</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>files<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>fix<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>external<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>ast <span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name link<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>;Convert the buffer to contain the new AST, 
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">            <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>;this is needed because the exporter expects the content to be in a buffer
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>erase<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>buffer<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span> 
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>insert <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>interpret<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>data ast<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>outline<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>show<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>all<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>goto<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">char</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>point<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-operator z-comparison z-lisp">min</span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">           <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-control z-lisp">let</span><span class="z-keyword z-operator z-arithmetic z-lisp">*</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name  <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">export</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-control z-lisp">with</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>files<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>escaped<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>headline<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">                  <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>concat <span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">             <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>; Make the buffer file be in the new directory, because
</span></span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">             <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>; org-latex-export-to-pdf always export to the working directory of the buffer
</span></span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">             <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">set</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>visited<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>concat new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>.org<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">    
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">             <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>; Name of the tex file / pdf file
</span></span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">             <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">set</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>property
</span></span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">              <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>EXPORT_FILE_NAME<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span>
</span></span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">              file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">             <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>deactivate<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>mark<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">            <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>latex<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">export</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-control z-lisp">to</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>pdf <span class="z-constant z-language z-lisp">nil</span> <span class="z-constant z-language z-lisp">t</span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp">      <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>widen<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span><span class="z-source z-lisp">         
</span><span class="z-source z-lisp">    
</span><span class="z-source z-lisp">    
</span><span class="z-source z-lisp">    <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-meta z-function z-lisp"><span class="z-storage z-type z-function-type z-lisp">defun</span> <span class="z-entity z-name z-function z-lisp">export-with-files--fix-file-external-link-ast</span></span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>path link<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp">      <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>Creates hard links to the external files in the output directory<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span>
</span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp">      <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-control z-lisp">when</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">string</span><span class="z-keyword z-operator z-comparison z-lisp">=</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>property :type link<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>file<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">        <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-control z-lisp">let</span><span class="z-keyword z-operator z-arithmetic z-lisp">*</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>path <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>property :path link<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>extension <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>extension path<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>copy <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>copy link<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>img<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>extensions '<span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>jpg<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>tiff<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>png<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>bmp<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>description <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>contents link<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>; Put files in subdirectories with the extension of the file
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>relative<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>path 
</span></span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">                <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>concat <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>./<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> extension <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>/<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>nondirectory path<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>hard<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>path <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>concat <span class="z-support z-function z-lisp">directory</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>path new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>relative<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>path<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">               <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>hard<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">directory</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>file<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">directory</span> new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>hard<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>path<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>;Fix the AST
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>;If image, remove description so it will become a real image instead of a link
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">         <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-control z-lisp">unless</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-operator z-logical z-lisp">or</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">member</span> extension img<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>extensions<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-keyword z-operator z-logical z-lisp">not</span> link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>description<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">apply</span> <span class="z-constant z-character z-lisp"><span class="z-punctuation z-definition z-constant z-lisp">#</span>'org-element-adopt-elements</span> link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>copy link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>description<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>put<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>property link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>copy :path new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>relative<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>path<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">set</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>element link  link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>copy<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>;Create hard link folder
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>make<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">directory</span> new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>hard<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">directory</span> <span class="z-constant z-language z-lisp">t</span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-comment z-line z-semicolon z-lisp"><span class="z-punctuation z-definition z-comment z-lisp">;</span>;Create hard link, not replacing if it already exists, catching error if file does not exist
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">          <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>condition<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-control z-lisp">case</span> <span class="z-constant z-language z-lisp">nil</span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">              <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>add<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>name<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-control z-lisp">to</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>file path new<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>hard<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>link<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>path <span class="z-constant z-language z-lisp">nil</span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">            <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">error</span> <span class="z-constant z-language z-lisp">nil</span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span><span class="z-source z-lisp">    
</span><span class="z-source z-lisp">    
</span><span class="z-source z-lisp">    
</span><span class="z-source z-lisp">    <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-meta z-function z-lisp"><span class="z-storage z-type z-function-type z-lisp">defun</span> <span class="z-entity z-name z-function z-lisp">export-with-files--escaped-headline</span></span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp">      <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">export</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-control z-lisp">with</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>files<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>escape
</span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">       <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">nth</span> <span class="z-constant z-numeric z-lisp">4</span> <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>org<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>heading<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>components<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span><span class="z-source z-lisp">    
</span><span class="z-source z-lisp">    <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-meta z-function z-lisp"><span class="z-storage z-type z-function-type z-lisp">defun</span> <span class="z-entity z-name z-function z-lisp">export-with-files--escape</span></span><span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span>text<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp">      <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">replace</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>regexp<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>in<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">string</span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>[<span class="z-constant z-character z-escape z-lisp">\\</span>?.,!:]<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span><span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span>
</span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">       <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">replace</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>regexp<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>in<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">string</span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>/<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>-<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> 
</span></span></span></span><span class="z-source z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp"><span class="z-meta z-group z-lisp">        <span class="z-meta z-group z-lisp"><span class="z-punctuation z-definition z-group z-begin z-lisp">(</span><span class="z-support z-function z-lisp">replace</span><span class="z-keyword z-operator z-arithmetic z-lisp">-</span>regexp<span class="z-keyword z-operator z-arithmetic z-lisp">-</span>in<span class="z-keyword z-operator z-arithmetic z-lisp">-</span><span class="z-support z-function z-lisp">string</span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span> <span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> <span class="z-string z-quoted z-double z-lisp"><span class="z-punctuation z-definition z-string z-begin z-lisp">"</span>_<span class="z-punctuation z-definition z-string z-end z-lisp">"</span></span> text<span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span><span class="z-punctuation z-definition z-group z-end z-lisp">)</span></span>
</span><span class="z-source z-lisp">
</span></code></pre> <nav><div><a href=/scan-notes-with-laptop-webcam.html>â€¹ Scan notes with laptop webcam</a></div><div><a href=/simple-proof-weak-master-theorem.html> Simple proof weak master theorem â€º</a></div></nav> <footer><hr><div class=c><nav class=tpad><div><a title="Ivan.fyi Atom Feed" href=/atom.xml target=_blank type=application/atom+xml><i class="svg rss" title="Ivan.fyi Atom Feed" type=Button></i></a><a class="js m-protected" href=#aXRhZGV1ZmFAZ21haWwuY29t target=_blank title=Mail><i class="svg mail" title=Mail type=Button></i></a><a href=https://www.linkedin.com/in/ivan-tadeu-ferreira-antunes-filho-8b2b0950/ target=_blank title=LinkedIn><i class="svg linkedin" title=LinkedIn type=Button></i></a><a href=https://www.researchgate.net/profile/Ivan-Tadeu-Ferreira-Antunes-Filho/ target=_blank title=ResearchGate><i class="svg researchgate" title=ResearchGate type=Button></i></a><a href=https://github.com/itf/ target=_blank title=Github><i class="svg github" title=Github type=Button></i></a><a href=https://www.instagram.com/ivan_af_/ target=_blank title=Instagram><i class="svg instagram" title=Instagram type=Button></i></a></div></nav><p class=s90>Â© <span id=year>2025</span> Ivan.fyi<p class=s90>Powered by <a href=https://www.getzola.org/ target=_blank>Zola</a> & <a href=https://github.com/jieiku/abridge/ target=_blank>Abridge</a></div></footer> 